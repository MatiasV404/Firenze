{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <!-- Page Title and Meta Descriptions -->
    <title>StyleBarber - Responsive Template</title>
    <meta name="description" content="StyleBarber - Bootstrap 4 Responsive HTML5 Template">
    <meta name="keywords" content="StyleBarber, barber, salon, HTML5, Bootstrap">
    <meta name="author" content="">

     <!-- Favicon and Touch Icon -->
	 <link rel="shortcut icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">
	 <link rel="apple-touch-icon" href="{% static 'images/apple-touch-icon.png' %}">
 
	 <!-- CSS Stylesheets -->
	 <link rel="stylesheet" href="{% static 'css/bootstrap.min.css' %}">
	 <link rel="stylesheet" href="{% static 'css/versions.css' %}">
	 <link rel="stylesheet" href="{% static 'css/responsive.css' %}">
	 <link rel="stylesheet" href="{% static 'css/custom.css' %}">
	 <link rel="stylesheet" href="{% static 'css/style.css' %}">


    <!-- IE Compatibility Scripts -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
        <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body class="barber_version">



	<!-- Start header -->
	<header class="top-navbar">
		<nav class="navbar navbar-expand-lg navbar-light bg-light">
			<div class="container">
				<a class="navbar-brand" href="{% url 'index' %}">
					<img src="{% static 'images/logo.png' %}" alt="" />
				</a>
				<button class="navbar-toggler collapsed" type="button" data-toggle="collapse" data-target="#navbars-rs-food" aria-controls="navbars-rs-food" aria-expanded="false" aria-label="Toggle navigation">
					<span class="icon-bar top-bar"></span>
					<span class="icon-bar middle-bar"></span>
					<span class="icon-bar bottom-bar"></span>
				</button>
				<div class="collapse navbar-collapse" id="navbars-rs-food">
					<ul class="navbar-nav ml-auto">
						<li class="nav-item active"><a class="nav-link" href="{% url 'index' %}">Inicio</a></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'services' %}">Nuestros servicios</a></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'about' %}">Sobre Nosotros</a></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'barbers' %}">Productos</a></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'appointment' %}">Agenda tu cita</a></li>
						<li class="nav-item"><a class="nav-link" href="{% url 'contact' %}">Contacto</a></li>
						
					</ul>
				</div>
			</div>
		</nav>
	</header>
	<!-- End header -->
		<!-- Contenido de la Página -->
	<!-- Page Content -->
		<div id="page-content-wrapper">

			<div id="appointment" class="section wb">
				<div class="container">
					<div class="section-title row text-center">
						<div class="col-md-8 offset-md-2">
							<small>HAGAMOS UNA CITA PARA TU VIDA</small>
							<h3>Reserva ahora</h3>
						</div>
					</div><!-- end title -->

					<div class="row">
						<div class="col-lg-12">
							<div class="contact_form">
								<div id="message"></div>
								<form id="appointment-form" class="" action="contact.php" name="contactform" method="post">
									<fieldset class="row row-fluid">
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
											<input type="text" name="first_name" id="first_name" class="form-control" placeholder="Nombre" required>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
											<input type="text" name="last_name" id="last_name" class="form-control" placeholder="Apellido" required>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
											<input type="email" name="email" id="email" class="form-control" placeholder="Tu Email" required>
										</div>
										<div class="col-lg-6 col-md-6 col-sm-6 col-xs-12">
											<input type="text" name="phone" id="phone" class="form-control" placeholder="Tu Teléfono" required>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<select id="service" class="form-control" required>
												<option value="" disabled selected>Selecciona el Servicio</option>
												<option value="corte" data-duration="60">Corte de Cabello </option>
												<option value="perfilado" data-duration="30">Perfilado de Barba</option>
												<option value="servicio_completo" data-duration="60">Servicio Completo</option>
												<option value="cejas" data-duration="30">Perfilado de Cejas</option>
												<option value="manicure" data-duration="60">Manicure Completo</option>
												<option value="extensiones" data-duration="60">Extensiones de Uñas</option>
												<option value="pedicure" data-duration="60">Pedicure Completo</option>
												<option value="diseño" data-duration="30">Diseño de Uñas</option>
												<option value="hidratacion" data-duration="30">Tratamiento de Hidratación</option>
											</select>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<input type="date" name="appointment_date" id="appointment_date" class="form-control" required>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<select id="appointment_time" class="form-control" required>
												<option value="" disabled selected>Selecciona la Hora</option>
												<!-- Las opciones de hora se llenarán dinámicamente -->
											</select>
										</div>
										<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
											<textarea class="form-control" name="comments" id="comments" rows="6" placeholder="Danos más detalles.."></textarea>
										</div>
										<div class="form-btn text-center">
											<button type="submit" value="SEND" id="submit" class="btn btn-light btn-radius btn-brd grd1 btn-block subt">Solicitar Cita</button>
										</div>
									</fieldset>
								</form>
							</div>
						</div><!-- end col -->
					</div><!-- end row -->
				</div><!-- end container -->
			</div><!-- end section -->

		</div>






    		<!-- Footer -->
		<div class="copyrights">
			<div class="container">
				<div class="footer-distributed">
					<div class="footer-left">
						<p class="footer-links">
							<a href="{% url 'index' %}">Inicio</a>
							<a href="{% url 'services' %}">Servicios</a>
							<a href="{% url 'about' %}">Acerca de</a>
							<a href="{% url 'barbers' %}">Nuestro Equipo</a>
							<a href="{% url 'appointment' %}">Cita</a>
							<a href="{% url 'contact' %}">Contacto</a>
						</p>
						<p class="footer-company-name">Todos los derechos reservados. &copy; 2024 <a href="{% url 'index' %}">Firenze</a></a></p>
					</div>
				</div>
			</div><!-- end container -->
		</div><!-- end copyrights -->

    
    <a href="#" id="scroll-to-top" class="dmtop global-radius"><i class="fa fa-angle-up"></i></a>

	<script src="{% static 'js/all.js' %}"></script>
	<script src="{% static 'js/responsive-tabs.js' %}"></script>
	<script src="{% static 'js/custom.js' %}"></script>
	<script src="{% static 'js/map.js' %}"></script>

	<script>
		// Suponiendo que tienes un array con los horarios disponibles
		const availableTimes = [
			'10:00', '10:30', '11:00', '11:30',
			'12:00', '12:30', 
			'15:00', '15:30', '16:00', '16:30',
			'17:00', '17:30', '18:00', '18:30',
			'19:00', '19:30', '20:00'
		];
		
		// Al cambiar el servicio seleccionado
		document.getElementById('service').addEventListener('change', function() {
			const selectedService = this.options[this.selectedIndex];
			const duration = parseInt(selectedService.getAttribute('data-duration'));
			const timeSelect = document.getElementById('appointment_time');
		
			// Limpiar las opciones de hora
			timeSelect.innerHTML = '<option value="" disabled selected>Selecciona la Hora</option>';
		
			// Obtener el índice de la hora inicial
			let startHourIndex = availableTimes.indexOf('10:00');
		
			// Llenar las horas disponibles basadas en la duración del servicio
			if (duration === 60) {
				for (let i = startHourIndex; i <= 13; i++) { // hasta las 13:00
					const option = document.createElement('option');
					option.value = availableTimes[i];
					option.textContent = availableTimes[i];
					timeSelect.appendChild(option);
				}
				for (let i = 15; i < availableTimes.length; i++) { // desde las 15:00
					const option = document.createElement('option');
					option.value = availableTimes[i];
					option.textContent = availableTimes[i];
					timeSelect.appendChild(option);
				}
			} else if (duration === 30) {
				for (let i = startHourIndex; i < availableTimes.length; i++) { // todas las horas disponibles
					const option = document.createElement('option');
					option.value = availableTimes[i];
					option.textContent = availableTimes[i];
					timeSelect.appendChild(option);
				}
			}
		});
	</script>

</body>
</html>